<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/layoutCajero}">

<head>
    <meta charset="UTF-8">
    <title>Comprobante de Pago</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
	<!-- Bootstrap Icons CDN -->
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">

	</head>

<body>
<div layout:fragment="content" class="container mt-4">

	<h2 class="mb-4 d-flex align-items-center gap-2">
	    <i class="bi bi-receipt-cutoff text-success fs-3"></i> 
	    <span>Comprobante de Pago</span>
	</h2>

    <div class="card">
        <div class="card-body">

            <!-- Datos del Paciente -->
			<h5 class="card-title">
			    <i class="bi bi-person-badge me-1 text-success"></i> Datos del Paciente
			</h5>
            <p><strong>Nombre:</strong> <span th:text="${comprobante.nombrePaciente}"></span></p>
            <p><strong>Género:</strong> <span th:text="${comprobante.generoPaciente}"></span></p>
            <p><strong>Edad:</strong> <span th:text="${comprobante.edadPaciente}"></span></p>
            <p><strong>Celular:</strong> <span th:text="${comprobante.celularPaciente}"></span></p>
            <p><strong>Correo:</strong> <span th:text="${comprobante.correoPaciente}"></span></p>

            <hr>

            <!-- Datos del Médico -->
			<h5 class="card-title">
			    <i class="bi bi-person-badge me-1 text-danger"></i> Datos del Médico
			</h5>
            <p><strong>Nombre:</strong> <span th:text="${comprobante.nombreMedico}"></span></p>
            <p><strong>Especialidad:</strong> <span th:text="${comprobante.especialidad}"></span></p>
            <p><strong>Monto:</strong> S/. <span th:text="${comprobante.monto}"></span></p>

            <hr>

            <!-- Datos de la Cita -->
            <h5 class="card-title">Datos de la Cita</h5>
            <p><strong>Nro Cita:</strong> <span th:text="${comprobante.nroCita}"></span></p>
            <p><strong>Fecha:</strong> <span th:text="${comprobante.fechaCita}"></span></p>
            <p><strong>Hora:</strong> <span th:text="${comprobante.horaCita}"></span></p>

        </div>
    </div>
	</br>
	
	<form th:action="@{/cajero/citas/guardarCDP}" method="post">
	    <input type="hidden" name="nroCita" th:value="${comprobante.nroCita}" />
	    <button type="submit" class="btn btn-success">
	        <i class="bi bi-check-circle"></i> Generar CDP
	    </button>
	</form>
	
	<!-- Botones de acción -->
	<div class="d-flex justify-content-between mt-4">
	    <!-- Botón GENERAR PDF -->
		<a th:href="@{/cajero/citas/cdps/pdf/{nroCita}(nroCita=${comprobante.nroCita})}" 
		   class="btn btn-danger btn-sm" target="_blank">
		    <i class="bi bi-filetype-pdf"></i> Generar PDF
		</a>

	    <!-- Botón REGRESAR -->
	    <a th:href="@{/cajero/citas/listar}" class="btn btn-secondary btn-sm">
	        <i class="bi bi-arrow-left"></i> Regresar
	    </a>
	</div>

	</br>
	</br>
</div>
</body>
</html>